# Generated by Django 5.2.3 on 2025-08-04 20:21

from django.db import migrations
import os


def create_predefined_symbols(apps, schema_editor):
    """Skapa f√∂rdefinierade symboler"""
    # Skippa i test/CI-milj√∂ f√∂r att inte p√•verka testernas f√∂rv√§ntningar
    # - PYTEST_CURRENT_TEST: s√§tts av pytest lokalt
    # - CI/GITHUB_ACTIONS: s√§tts i GitHub Actions
    if (
        os.environ.get("PYTEST_CURRENT_TEST")
        or os.environ.get("CI")
        or os.environ.get("GITHUB_ACTIONS")
    ):
        return
    StampSymbol = apps.get_model("axes", "StampSymbol")

    # Lista √∂ver f√∂rdefinierade symboler
    predefined_symbols = [
        {
            "name": "Ankare",
            "description": "Ankare",
            "pictogram": "‚öì",
            "symbol_type": "other",
        },
        {
            "name": "Blomma",
            "description": "Blomma",
            "pictogram": "üå∏",
            "symbol_type": "other",
        },
        {
            "name": "Bock",
            "description": "Bock",
            "pictogram": "üêê",
            "symbol_type": "other",
        },
        {
            "name": "B√§ver",
            "description": "B√§ver",
            "pictogram": "ü¶´",
            "symbol_type": "other",
        },
        {
            "name": "Cirkel",
            "description": "Cirkel",
            "pictogram": "‚≠ï",
            "symbol_type": "other",
        },
        {
            "name": "Diamant",
            "description": "Diamant",
            "pictogram": "‚ô¶",
            "symbol_type": "other",
        },
        {
            "name": "Femuddig stj√§rna",
            "description": "Femuddig stj√§rna",
            "pictogram": "‚≠ê",
            "symbol_type": "other",
        },
        {
            "name": "Fyrkant",
            "description": "Fyrkant",
            "pictogram": "‚¨ú",
            "symbol_type": "other",
        },
        {
            "name": "Halvcirkel",
            "description": "Halvcirkel",
            "pictogram": "‚ó°",
            "symbol_type": "other",
        },
        {
            "name": "Halvm√•ne",
            "description": "Halvm√•ne",
            "pictogram": "‚òæ",
            "symbol_type": "other",
        },
        {
            "name": "Hexagon",
            "description": "Hexagon",
            "pictogram": "‚¨°",
            "symbol_type": "other",
        },
        {
            "name": "Hj√§rta",
            "description": "Hj√§rta",
            "pictogram": "‚ô•",
            "symbol_type": "other",
        },
        {
            "name": "H√§st",
            "description": "H√§st",
            "pictogram": "üêé",
            "symbol_type": "other",
        },
        {
            "name": "H√§stsko",
            "description": "H√§stsko",
            "pictogram": "∆±",
            "symbol_type": "other",
        },
        {
            "name": "J√§rnsymbol",
            "description": "J√§rnsymbol ‚ôÇ",
            "pictogram": "‚ôÇ",
            "symbol_type": "other",
        },
        {
            "name": "Kanon",
            "description": "Kanon",
            "pictogram": "üí•",
            "symbol_type": "other",
        },
        {
            "name": "Katt",
            "description": "Katt",
            "pictogram": "üê±",
            "symbol_type": "other",
        },
        {
            "name": "Kors",
            "description": "Kors",
            "pictogram": "üïÜ",
            "symbol_type": "other",
        },
        {
            "name": "Krona",
            "description": "Krona",
            "pictogram": "üëë",
            "symbol_type": "other",
        },
        {
            "name": "Kryss",
            "description": "Kryss",
            "pictogram": "‚ùå",
            "symbol_type": "other",
        },
        {
            "name": "Linje",
            "description": "Linje",
            "pictogram": "‚îÅ",
            "symbol_type": "other",
        },
        {
            "name": "L√∂v",
            "description": "L√∂v",
            "pictogram": "üçÉ",
            "symbol_type": "other",
        },
        {
            "name": "Man",
            "description": "Man",
            "pictogram": "üë§",
            "symbol_type": "other",
        },
        {
            "name": "Oktagon",
            "description": "Oktagon",
            "pictogram": "‚¨°",
            "symbol_type": "other",
        },
        {
            "name": "Oxe",
            "description": "Oxe",
            "pictogram": "üêÇ",
            "symbol_type": "other",
        },
        {
            "name": "Pentagon",
            "description": "Pentagon",
            "pictogram": "‚¨ü",
            "symbol_type": "other",
        },
        {"name": "Pil", "description": "Pil", "pictogram": "‚Üë", "symbol_type": "other"},
        {
            "name": "Sexuddig stj√§rna",
            "description": "Sexuddig stj√§rna",
            "pictogram": "üüã",
            "symbol_type": "other",
        },
        {
            "name": "Sicksackline",
            "description": "Sicksackline",
            "pictogram": "‚¶ö",
            "symbol_type": "other",
        },
        {
            "name": "Sjuuddig stj√§rna",
            "description": "Sjuuddig stj√§rna",
            "pictogram": "‚≠ê",
            "symbol_type": "other",
        },
        {
            "name": "Sk√∂ld",
            "description": "Sk√∂ld",
            "pictogram": "üõ°Ô∏è",
            "symbol_type": "other",
        },
        {
            "name": "Spader",
            "description": "Spader",
            "pictogram": "‚ô†",
            "symbol_type": "other",
        },
        {
            "name": "Streckad linje",
            "description": "Streckad linje",
            "pictogram": "‚îÑ",
            "symbol_type": "other",
        },
        {
            "name": "Tjur",
            "description": "Tjur",
            "pictogram": "üêÉ",
            "symbol_type": "other",
        },
        {
            "name": "Tre kronor",
            "description": "Tre kronor",
            "pictogram": "üëëüëëüëë",
            "symbol_type": "other",
        },
        {
            "name": "Triangel",
            "description": "Triangel",
            "pictogram": "‚ñ≤",
            "symbol_type": "other",
        },
    ]

    for symbol_data in predefined_symbols:
        StampSymbol.objects.get_or_create(
            name=symbol_data["name"],
            defaults={
                "description": symbol_data.get("description", ""),
                "pictogram": symbol_data.get("pictogram", ""),
                "symbol_type": symbol_data.get("symbol_type", "other"),
                "is_predefined": True,
            },
        )


def reverse_create_predefined_symbols(apps, schema_editor):
    """√Öterst√§ll f√∂rdefinierade symboler"""
    StampSymbol = apps.get_model("axes", "StampSymbol")
    StampSymbol.objects.filter(is_predefined=True).delete()


class Migration(migrations.Migration):

    dependencies = [
        ("axes", "0046_stampsymbol_pictogram_alter_stampsymbol_symbol_type"),
    ]

    operations = [
        migrations.RunPython(
            create_predefined_symbols, reverse_create_predefined_symbols
        ),
    ]
