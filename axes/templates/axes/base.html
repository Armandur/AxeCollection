<!DOCTYPE html>
{% load static %}
<html lang="sv" data-bs-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Yxsamling{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/2.0.8/css/dataTables.bootstrap5.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/3.0.2/css/buttons.bootstrap5.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/responsive/3.0.2/css/responsive.bootstrap5.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            padding-top: 56px;
        }
        .stats-card {
            transition: transform 0.2s;
        }
        .stats-card:hover {
            transform: translateY(-5px);
        }
        .sold-axe {
            opacity: 0.6;
            background-color: #f8f9fa;
        }
        .sold-axe:hover {
            opacity: 0.8;
        }
        .theme-toggle-btn {
            background: none;
            border: none;
            color: #ffc107;
            font-size: 1.5rem;
            margin-left: 1rem;
            cursor: pointer;
        }
        .theme-toggle-btn .bi {
            vertical-align: middle;
        }
        .navbar, .navbar-dark, .bg-dark {
            background-color: #23272b !important;
        }
        /* Ta bort all egen bakgrundsfärg på html/body för tema, låt Bootstrap sköta det */
    </style>
    {% block extra_head %}{% endblock %}
</head>
<body>
<script src="https://code.jquery.com/jquery-3.7.1.js"></script>

<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container-fluid">
        <a class="navbar-brand" href="{% url 'axe_list' %}">
            <svg width="24" height="24" viewBox="-4 0 36 36" xmlns="http://www.w3.org/2000/svg" style="margin-right: 8px; vertical-align: middle;">
                <g fill="currentColor" fill-rule="evenodd" transform="translate(-10 -6)">
                    <path d="M26.5 24L29.5 24C30.0522847 24 30.5 24.4477153 30.5 25L30.5 39.5C30.5 40.8807119 29.3807119 42 28 42L28 42C26.6192881 42 25.5 40.8807119 25.5 39.5L25.5 25C25.5 24.4477153 25.9477153 24 26.5 24zM19.1482152 24.0027733C17.7224143 21.7188156 17.0063426 18.9528904 17 16.0002023 17.0063557 13.0413843 17.7253905 10.2846689 19.1571044 8.0002195 21.7006691 8.85610807 23.7916534 9.40696749 25.4300574 9.65279777 27.9284325 10.0276603 31.7618551 10.0514621 36.930325 9.72420332 37.4812749 9.68930526 37.9590975 10.0660075 37.9975707 10.5655785 37.9991897 10.5866016 38 10.6076695 38 10.6287439L38.0000181 21.3712416C38.0000181 21.8720312 37.5522948 22.2780013 37 22.2780013 31.7618614 21.9485389 27.9284346 21.9723405 25.4300574 22.3472033 23.7897452 22.5933199 21.6957978 23.1451766 19.1482152 24.0027733z"/>
                    <path d="M13.3597012,25.3487123 C11.1199004,22.2325423 10,19.1163723 10,16.0002023 C10,12.8854101 11.1189103,9.77061783 13.3567309,6.65582561 L13.3567108,6.6558137 C13.6215783,6.28714813 14.1399622,6.14409188 14.586314,6.31648519 C15.8505999,6.80478711 16.8319681,7.17873788 17.5304185,7.43833749 C15.8503589,9.82598584 15.0068861,12.7944738 15,16.0002023 C15.0068861,19.2059308 15.8503589,22.1915141 17.5304185,24.5791625 C16.831484,24.838942 15.8492394,25.2092147 14.5836849,25.6899807 L14.5836787,25.6899673 C14.13836,25.8591374 13.6233762,25.7155557 13.3597012,25.3487123 Z"/>
                </g>
            </svg>
            Yxsamling
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'axe_list' %}">Samling</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'axe_gallery' %}">Galleri</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'transaction_list' %}">Transaktioner</a>
                </li>
                 <li class="nav-item">
                    <a class="nav-link" href="{% url 'contact_list' %}">Kontakter</a>
                </li>
                 <li class="nav-item">
                    <a class="nav-link" href="{% url 'manufacturer_list' %}">Tillverkare</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'statistics_dashboard' %}">Statistik</a>
                </li>
            </ul>
            <button id="themeToggleBtn" class="theme-toggle-btn" title="Växla tema" aria-label="Växla tema">
                <i id="themeIcon" class="bi bi-moon"></i>
            </button>
        </div>
    </div>
</nav>

<div class="container mt-4">
    {% block content %}{% endblock %}
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.datatables.net/2.0.8/js/dataTables.js"></script>
<script src="https://cdn.datatables.net/2.0.8/js/dataTables.bootstrap5.js"></script>
<script src="https://cdn.datatables.net/buttons/3.0.2/js/dataTables.buttons.js"></script>
<script src="https://cdn.datatables.net/buttons/3.0.2/js/buttons.bootstrap5.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/buttons/3.0.2/js/buttons.html5.min.js"></script>
<script src="https://cdn.datatables.net/buttons/3.0.2/js/buttons.print.min.js"></script>
<script src="https://cdn.datatables.net/buttons/3.0.2/js/buttons.colVis.min.js"></script>
<script src="https://cdn.datatables.net/responsive/3.0.2/js/dataTables.responsive.js"></script>
<script src="https://cdn.datatables.net/responsive/3.0.2/js/responsive.bootstrap5.js"></script>

<script>
// Bootstrap 5.3 color mode hantering med tre lägen
(function() {
    function setTheme(theme) {
        if (theme === 'dark') {
            document.documentElement.setAttribute('data-bs-theme', 'dark');
            document.getElementById('themeIcon').className = 'bi bi-moon-fill';
        } else if (theme === 'light') {
            document.documentElement.setAttribute('data-bs-theme', 'light');
            document.getElementById('themeIcon').className = 'bi bi-sun-fill';
        } else {
            // Auto: följ OS
            if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
                document.documentElement.setAttribute('data-bs-theme', 'dark');
                document.getElementById('themeIcon').className = 'bi bi-circle-half';
            } else {
                document.documentElement.setAttribute('data-bs-theme', 'light');
                document.getElementById('themeIcon').className = 'bi bi-circle-half';
            }
        }
    }
    // Läs tema från localStorage
    var savedTheme = localStorage.getItem('theme');
    setTheme(savedTheme);
    // Lyssna på knapp
    document.getElementById('themeToggleBtn').addEventListener('click', function() {
        var savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'light') {
            localStorage.setItem('theme', 'dark');
            setTheme('dark');
        } else if (savedTheme === 'dark') {
            localStorage.removeItem('theme');
            setTheme(null);
        } else {
            localStorage.setItem('theme', 'light');
            setTheme('light');
        }
    });
    // Lyssna på OS-temaändring
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', function(e) {
        if (!localStorage.getItem('theme')) {
            if (e.matches) {
                document.documentElement.setAttribute('data-bs-theme', 'dark');
            } else {
                document.documentElement.setAttribute('data-bs-theme', 'light');
            }
        }
    });
})();
</script>

{% block scripts %}{% endblock %}

</body>
</html> 